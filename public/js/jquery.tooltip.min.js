(function(b){var h,e,i,c;function d(a){return b.data(a,"tooltip")}function s(a){d(this).delay?j=setTimeout(o,d(this).delay):o();p=!!d(this).track;b(document.body).bind("mousemove",l);l(a)}function t(){if(!b.tooltip.blocked&&!(this==g||!this.tooltipText&&!d(this).bodyHandler)){g=this;n=this.tooltipText;if(d(this).bodyHandler){h.hide();var a=d(this).bodyHandler.call(this);a.nodeType||a.jquery?e.empty().append(a):e.html(a);e.show()}else if(d(this).showBody){a=n.split(d(this).showBody);h.html(a.shift()).show();
e.empty();for(var f=0,q;q=a[f];f++)0<f&&e.append("<br/>"),e.append(q);e.hideWhenEmpty()}else h.html(n).show(),e.hide();d(this).showURL&&b(this).url()?i.html(b(this).url().replace("http://","")).show():i.hide();c.addClass(d(this).extraClass);d(this).fixPNG&&c.fixPNG();s.apply(this,arguments)}}function o(){j=null;(!m||!b.fn.bgiframe)&&d(g).fade?c.is(":animated")?c.stop().show().fadeTo(d(g).fade,g.tOpacity):c.is(":visible")?c.fadeTo(d(g).fade,g.tOpacity):c.fadeIn(d(g).fade):c.show();l()}function l(a){if(!b.tooltip.blocked&&
!(a&&"OPTION"==a.target.tagName))if(!p&&c.is(":visible")&&b(document.body).unbind("mousemove",l),null==g)b(document.body).unbind("mousemove",l);else{c.removeClass("viewport-right").removeClass("viewport-bottom");var f=c[0].offsetLeft,e=c[0].offsetTop;a&&(f=a.pageX+d(g).left,e=a.pageY+d(g).top,a="auto",d(g).positionLeft&&(a=b(window).width()-f,f="auto"),c.css({left:f,right:a,top:e}));var a=b(window).scrollLeft(),h=b(window).scrollTop(),i=b(window).width(),j=b(window).height(),k=c[0];a+i<k.offsetLeft+
k.offsetWidth&&(f-=k.offsetWidth+20+d(g).left,c.css({left:f+"px"}).addClass("viewport-right"));h+j<k.offsetTop+k.offsetHeight&&(e-=k.offsetHeight+20+d(g).top,c.css({top:e+"px"}).addClass("viewport-bottom"))}}function r(){function a(){c.removeClass(f.extraClass).hide().css("opacity","")}if(!b.tooltip.blocked){j&&clearTimeout(j);g=null;var f=d(this);(!m||!b.fn.bgiframe)&&f.fade?c.is(":animated")?c.stop().fadeTo(f.fade,0,a):c.stop().fadeOut(f.fade,a):a();d(this).fixPNG&&c.unfixPNG()}}c=i=e=h=void 0;
var g,n,j,m=b.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),p=!1;b.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){b.tooltip.blocked=!b.tooltip.blocked}};b.fn.extend({tooltip:function(a){a=b.extend({},b.tooltip.defaults,a);c||(c=b('<div id="'+a.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),b.fn.bgiframe&&c.bgiframe(),h=b("h3",c),e=b("div.body",c),i=b("div.url",
c));return this.each(function(){b.data(this,"tooltip",a);this.tOpacity=c.css("opacity");this.tooltipText=this.title;b(this).removeAttr("title");this.alt=""}).mouseover(t).mouseout(r).click(r)},fixPNG:m?function(){return this.each(function(){var a=b(this).css("backgroundImage");a.match(/^url\(["']?(.*\.png)["']?\)$/i)&&(a=RegExp.$1,b(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+a+"')"}).each(function(){var a=b(this).css("position");
"absolute"!=a&&"relative"!=a&&b(this).css("position","relative")}))})}:function(){return this},unfixPNG:m?function(){return this.each(function(){b(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){b(this)[b(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})})(jQuery);
