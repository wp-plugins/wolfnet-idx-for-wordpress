(function(d){var q={sort:"price_desc",maxResults:250,criteria:{},itemsPerPageData:[5,10,15,20,25,30,35,40,45,50],sortOptionsData:[{value:"price_desc",label:"Descending by Price"},{value:"price",label:"Ascending by Price"}]},n=function(b){(this.is(".wolfnet_propertyList")||this.is(".wolfnet_listingGrid"))&&this.find(".wolfnet_listings").children().remove();if(this.is(".wolfnet_propertyList")){for(var a=b,a=d.isArray(a.responseData.data.listing)?a.responseData.data.listing:[],f=d("<div>").addClass("wolfnet_listings"),
c=0,g=a.length;c<g;c++){var h=a[c].display_address+", "+(a[c].city+", "+a[c].state),e=d("<div>").attr("id","wolfnet_listing_"+a[c].property_id).addClass("wolfnet_listing").appendTo(f),e=d("<a>").attr({href:a[c].property_url,title:h}).appendTo(e);d("<span>").addClass("wolfnet_full_address").html(h).appendTo(e);d("<span>").addClass("wolfnet_price").attr("itemprop","price").html(a[c].listing_price.toString()).appendTo(e);d("<span>").attr("itemprop","street-address").css("display","none").html(h).appendTo(e)}this.find(".wolfnet_listings").replaceWith(f)}else if(this.is(".wolfnet_listingGrid")){a=
b;a=d.isArray(a.responseData.data.listing)?a.responseData.data.listing:[];f=d("<div>").addClass("wolfnet_listings");c=0;for(g=a.length;c<g;c++){var i=a[c].branding.logo||null,h=a[c].branding.type||"",e=a[c].branding.content||null,l=a[c].city+", "+a[c].state,o=a[c].display_address+", "+l,p=null==i&&null==e?!1:!0,j=d("<div>").addClass("wolfnet_listing").addClass(p?"wolfnet_branded":"").attr("id","wolfnet_listing_"+a[c].property_id).appendTo(f),j=d("<a>").attr("href",a[c].property_url).appendTo(j),k=
d("<span>").addClass("wolfnet_listingImage").appendTo(j);d("<img>").attr("src",a[c].thumbnail_url).appendTo(k);d("<span>").addClass("wolfnet_price").attr("itemprop","price").html(a[c].listing_price.toString()).appendTo(j);k=0;""!==a[c].total_partial_baths&&(k+=parseInt(a[c].total_partial_baths));""!==a[c].total_full_baths&&(k+=parseInt(a[c].total_full_baths));var m=d("<span>").addClass("wolfnet_bed_bath").attr("title",a[c].total_bedrooms+" Bedrooms & "+k+" Bathrooms").appendTo(j);""!=a[c].total_bedrooms&&
m.append(a[c].total_bedrooms+"bd");0<k&&(""!=m.text()&&m.append("/"),m.append(k+"ba"));j=d("<span>").attr("title",o).appendTo(j);d("<span>").addClass("wolfnet_address").html(a[c].display_address).appendTo(j);d("<span>").addClass("wolfnet_location").attr("itemprop","locality").html(l).appendTo(j);d("<span>").addClass("wolfnet_full_address").attr("itemprop","street_address").css("display","none").html(o).appendTo(j);p&&(l=d("<div>").addClass("wolfnet_branding").insertAfter(j),null!=i&&(i=d("<span>").addClass("wolfnet_brokerLogo").append(d("<img>").attr("src",
i)).appendTo(l),"idx"==h&&i.addClass("wolfnet_idxLogo")),null!=e&&d("<span>").addClass("wolfnet_brandingMessage").html(e).appendTo(l))}this.find(".wolfnet_listings").replaceWith(f);this.wolfnetListingGrid("reload")}if(0<this.find(".wolfnet_wntMainMap").length){b=d.isArray(b.responseData.data.listing)?b.responseData.data.listing:[];a=this.find(".wolfnet_wntMainMap").data("map");f=wolfnet_ajax.houseoverIcon;a.removeAllShapes();c=0;for(g=b.length;c<g;c++)h=b[c],e="",e+='<a style="display:block" rel="follow" href="'+
h.property_url+'">',e+='<div class="wolfnet_wntHouseOverWrapper"><div data-property-id="'+h.property_id,e+='" class="wntHOItem"><table class="wolfnet_wntHOTable"><tbody><tr>',e+='<td class="wntHOImgCol" valign="top" style="vertical-align:top;"><div class="wolfnet_wntHOImg">',e+='<img src="'+h.thumbnail_url+'" style="max-height:100px;width:auto"></div><div class="wolfnet_wntHOBroker" style="text-align: center">',e+='<img class="wolfnet_wntHOBrokerLogo" src="'+h.branding.logo+'" style="max-height:50px;width:auto" alt="Broker Reciprocity">',
e+='</div></td><td valign="top" style="vertical-align:top;"><div class="wolfnet_wntHOContentContainer">',e+='<div style="text-align:left;font-weight:bold">'+h.listing_price.toString()+"</div>",e+='<div style="text-align:left;">'+h.display_address+'</div><div style="text-align:left;">',e+=h.city+", "+h.state+'</div><div style="text-align:left;">'+h.bedsbaths,e+='</div><div style="text-align:left;padding-top:20px;">'+h.branding.courtesy_text+"</div>",houseoverHtml=e+="</div></td></tr></tbody></table></div></div></a>",
h=a.mapIcon(f,30,30),h=a.poi(b[c].geo.lat,b[c].geo.lng,h,houseoverHtml,b[c].property_id,b[c].property_url),a.addPoi(h);a.bestFit()}this.trigger("wolfnet.updated")},r=function(){var b=d(this),a=b.find("span.wolfnet_page_items_select"),f=b.data("wolfnetToolbar.state"),c=b.data("wolfnetToolbar.options");if(0==a.length&&b.is(".wolfnet_withPagination")){var g=d("<select>");g.change(function(){f.numrows=d(this).val();b.data("wolfnetToolbar.state",f);b.find("span.wolfnet_page_items_select select").val(f.numrows);
i.update.call(b)});for(var a=0,h=c.itemsPerPageData.length;a<h;a++){var e=c.itemsPerPageData[a];d("<option>").attr("value",e).text(e).appendTo(g)}a=d("<span>").addClass("wolfnet_page_items_select");a.append(g).append("per page");a.appendTo(b.find(".wolfnet_toolbar .wolfnet_page_items"))}b.find("span.wolfnet_page_items_select select").each(function(){d(this).val(Number(f.numrows))})},s=function(){var b=d(this),a=b.find("span.wolfnet_sortoptions select"),f=b.data("wolfnetToolbar.state"),c=b.data("wolfnetToolbar.options");
if(0==a.length&&b.is(".wolfnet_withSortOptions")){var g=d("<select>");g.change(function(){f.sort=d(this).val();b.data("wolfnetToolbar.state",f);b.find("span.wolfnet_sortoptions select").val(f.sort);i.update.call(b)});for(var a=0,h=c.sortOptionsData.length;a<h;a++){var e=c.sortOptionsData[a];d("<option>").text(e.label).attr("value",e.value).appendTo(g)}a=d("<span>").addClass("wolfnet_sortoptions");a.append(g);a.appendTo(b.find(".wolfnet_toolbar .wolfnet_page_info"))}b.find("span.wolfnet_sortoptions select").each(function(){d(this).val(f.sort)})},
t=function(){var b=d(this),a=b.find("a.wolfnet_page_nav_next"),f=b.find("a.wolfnet_page_nav_prev"),c=b.data("wolfnetToolbar.state"),g=b.data("wolfnetToolbar.options"),h=Math.ceil(g.maxResults/c.numrows);1>=c.page?f.addClass("wolfnet_disabled"):f.removeClass("wolfnet_disabled");c.page>=h?a.addClass("wolfnet_disabled"):a.removeClass("wolfnet_disabled");a=Number(c.startrow)-1+Number(c.numrows);Number(g.maxResults)<a&&(a=Number(g.maxResults));b.find(".wolfnet_page_start").text(c.startrow);b.find(".wolfnet_page_end").text(a);
d("html,body").scrollTop(b.closest(".wolfnet_widget").offset().top-100);b.is(".wolfnet_listingGrid")&&b.wolfnetListingGrid&&b.wolfnetListingGrid("resizeWidth");b.removeClass("wolfnet_refreshing");return!0},i={init:function(b){return this.each(function(){var a=d(this),f=d.extend(!0,{},q,b),c=d.extend(!0,{},f.criteria,f,{page:1});delete f.criteria;delete c.criteria;delete c.prices;delete c.ownertypes;delete c.savedsearches;for(var g in c){var h=-1!==g.indexOf("_wpname"),e=-1!==g.indexOf("_wpid"),n=
-1!==g.indexOf("_wpc"),l=-1!==g.indexOf("_wps");(h||e||n||l)&&delete c[g]}c.maxresults=f.maxResults;-1===d.inArray(Number(c.numrows),f.itemsPerPageData)&&f.itemsPerPageData.push(Number(c.numrows));f.itemsPerPageData.sort(function(a,c){return a-c});a.data("wolfnetToolbar.options",f);a.data("wolfnetToolbar.state",c);r.call(a);s.call(a);a.click(function(c){var b=d(c.target);return b.is("a.wolfnet_page_nav_next")||b.parent().is("a.wolfnet_page_nav_next")?(c.preventDefault(),i.next.call(a),!1):b.is("a.wolfnet_page_nav_prev")||
b.parent().is("a.wolfnet_page_nav_prev")?(c.preventDefault(),i.prev.call(a),!1):!0});a.on("wolfnet.updated",t)})},update:function(){return this.each(function(){var b=d(this),a=b.data("wolfnetToolbar.state");d.ajax({url:wolfnet_ajax.ajaxurl,dataType:"jsonp",data:function(){var b=d.extend(a,{});delete b.itemsPerPageData;delete b.sortOptionsData;return d.extend(a,{action:"wolfnet_get_listings"})}(),beforeSend:function(){b.addClass("wolfnet_refreshing")}}).done(function(a){n.call(b,a)}).fail(function(){b.removeClass("wolfnet_refreshing")}).always(function(){})})},
next:function(){return this.each(function(){var b=d(this),a=b.data("wolfnetToolbar.state").page+1;i.page.call(b,a)})},prev:function(){return this.each(function(){var b=d(this),a=b.data("wolfnetToolbar.state").page-1;i.page.call(b,a)})},page:function(b){return this.each(function(){var a=d(this),f=a.data("wolfnetToolbar.options"),c=a.data("wolfnetToolbar.state"),f=Math.ceil(f.maxResults/Number(c.numrows)),g=b;1>g?g=f:g>f&&(g=1);a.data("wolfnetToolbar.state",d.extend(c,{page:g,startrow:(g-1)*Number(c.numrows)+
1}));i.update.call(a)})}};d.fn.wolfnetToolbar=function(b){if(i[b])return i[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return i.init.apply(this,arguments);d.error("Method "+b+" does not exist on jQuery."+pluginName)}})(jQuery);
