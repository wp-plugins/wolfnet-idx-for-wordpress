"undefined"!=typeof jQuery&&function(b){b(document).ready(function(){"Microsoft Internet Explorer"==navigator.appName&&b("html").addClass("ie");var a=b(".post-php .icon32-posts-wolfnet_search").parent();0!=a.length&&(a.find(".add-new-h2").remove(),a.find("#submitpost #minor-publishing").remove());(function(){var c=b("#wolfnet_support_page"),a=c.find("#thumbnail_modal");if(a.length==0){a=b("<div />");a.css("text-align","center");c.append(a);a.dialog({autoOpen:false,modal:true,width:550,height:450})}c.find("a img.wolfnet_thumbnail").parent().click(function(c){var g=
b("<img />"),d=a.height()-50,f=a.width()-35;g.attr("src",b(this).attr("href"));g.attr("align","center");g.css({"max-height":d,"max-width":f,margin:"0"});g.click(function(){window.open(this.src)});a.html(g);a.dialog("open");c.preventDefault();return false});var f=function(){var c=b(window).height(),g=b(window).width();a.dialog({height:c*0.8,width:g*0.8})};f();b(window).resize(function(){f()});var c=b("#wolfnet_support_content"),d=c.find("ol:first");c.find("h3:contains(Table of Contents)").remove();
d.find("li > ol,li > ul").remove();c.tabs()})()});b.fn.wolfnetFeaturedListingsControls=function(a){b.extend({},a);var c=function(b){b.val("");b.disabled=!0;b.find("fieldset:first").slideUp("fast","swing",function(){b.hide()})};return this.each(function(){var a=b(this),f=a.find(".wolfnet_featuredListingsOptions_autoPlayField:first"),d=a.find(".wolfnet_featuredListingsOptions_autoPlayOptions:first").hide();f.change(function(){"true"==b(this).val()?(d.disabled=!1,d.show(),d.find("fieldset:first").slideDown("fast",
"swing")):c(d)});f.trigger("change")})};b.fn.wolfnetListingGridControls=function(a){b.extend({},a);var c=function(){var a=b(this),c=this.$fields;if(a.is(":checked"))switch(a.val()){case "basic":c.filter(".advanced-option").hide();c.filter(".basic-option").show();break;case "advanced":c.filter(".basic-option").hide(),c.filter(".advanced-option").show()}},e=function(){this.beenWarned||(alert("The Saved Search that was previously used for this widget no longer exists. The widget will continue to function using the same search criteria unless you change the saved search value to something other than ** DELETED **."),
this.beenWarned=!0)};return this.each(function(){var a=b(this),d=a.find("tr.basic-option,tr.advanced-option"),h=a.find(".modeField input"),g=a.find(".keyid");d.hide();h.each(function(){this.$fields=d});g.change(function(){b(this).wolfnetUpdateShortcodeControls(a)});h.click(c);h.bind("ready",c);b(document).ready(function(){h.trigger("ready")});g=a.find(".savedSearchField select:first");"deleted"==g.val()&&(g.each(function(){this.beenWarned=!1}),g.click(e),g.focus(e))})};b.fn.wolfnetValidateProductKey=
function(a){var c={validClass:"valid",invalidClass:"invalid",wrapperClass:"wolfnetProductKeyValidationWrapper",validEvent:"validProductKey",invalidEvent:"invalidProductKey",validationEvent:"validateProductKey"};b.extend(c,a);var e=function(a){var d=a.val();b.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_validate_key",key:d},dataType:"json",type:"GET",cache:!1,timeout:2500,success:function(b){"true"===b?a.trigger(c.validEvent):a.trigger(c.invalidEvent)},error:function(){a.trigger(c.invalidEvent);
alert("Your product key appears to be formated correctly but we are unable to validate it against our servers at this time.")}})},f=function(){var a=b(this),d=a.val();""!==b.trim(d)?(d=b.trim(d),d=35==d.length||32==d.length?!0:!1,d&&e(a),d?a.trigger(c.validEvent):a.trigger(c.invalidEvent)):(a=a.parent(),a.removeClass(c.validClass),a.removeClass(c.invalidClass))},d=function(){var a=b(this),d=a.parent(),e=d.closest("tr").find(".wolfnet_keyMarket"),f=d.closest("tr").find(".wolfnet_keyLabel"),h=a.val();
d.addClass(c.validClass);d.removeClass(c.invalidClass);(""!==b.trim(e.html())||""!==b.trim(f.val()))&&b.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_market_name",productkey:h},dataType:"json",type:"GET",cache:!1,timeout:2500,success:function(a){""===b.trim(e.html())&&e.html(a);""===b.trim(f.val())&&f.val(a)},error:function(){a.trigger(c.invalidEvent)}})},h=function(){var a=b(this).parent();a.addClass(c.invalidClass);a.removeClass(c.validClass)};return this.each(function(){var a=b(this);if("input"!=
this.nodeName.toLowerCase())b.error("wolfnetValidateProductKey jQuery plugin can only be applied to an input element!");else{var e=b("<span/>").addClass(c.wrapperClass);a.after(e);a.appendTo(e);a.bind(c.validationEvent,f);a.bind(c.validEvent,d);a.bind(c.invalidEvent,h);a.keyup(function(){a.trigger(c.validationEvent)});b(document).ready(function(){a.trigger(c.validationEvent)})}})};b.fn.wolfnetDeleteKeyRow=function(a){a=b(a.srcElement).attr("wnt-key");b(".row"+a).remove()};b.fn.wolfnetInsertKeyRow=
function(){var a=parseInt(b("#wolfnet_keyCount").val())+1,c=b("<tr />").attr("class","row"+a),e=b("<th />").attr("scope","row"),f=c.clone().append(e.clone().html(b("<label />").attr("for","wolfnet_productKey_"+a).html("Product Key")));f.append(e.clone().html("Market Name"));f.append(e.clone().html(b("<label />").attr("for","wolfnet_keyLabel_"+a).html("Label")));f.append(e.clone());e=b("<td />");c=c.clone().append(e.clone().html(b("<input />").attr("id","wolfnet_productKey_"+a).attr("class","wolfnet_productKey").attr("name",
"wolfnet_productKey_"+a).attr("type","text").attr("value","").attr("size","50")));c.append(e.clone().html(b("<span/>").attr("class","wolfnet_keyMarket")));c.append(e.clone().html(b("<input />").attr("id","wolfnet_keyLabel_"+a).attr("name","wolfnet_keyLabel_"+a).attr("class","wolfnet_keyLabel").attr("type","text").attr("value","").attr("size","30")));c.append(e.clone().html(b("<input />").attr("class","wolfnet_deleteKey").attr("wnt-key",a).attr("type","button").attr("value","Delete").click(function(a){b.fn.wolfnetDeleteKeyRow(a)})));
b("#wolfnet_keys").append(f).append(c);b("#wolfnet_keyCount").val(a);b("#wolfnet_productKey_"+a).wolfnetValidateProductKey({rootUri:"<?php echo site_url(); ?>?pagename=wolfnet-admin-validate-key"})};b.fn.wolfnetUpdateShortcodeControls=function(a){var c=b(a).find(".keyid").val();b.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_price_range",keyid:c},dataType:"json",type:"GET",cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(c){c=e(c);b(a).find(".pricerange").html("");
b(a).find(".maxprice").append(b("<option />").attr("value","").html("Max. Price"));b(a).find(".minprice").append(b("<option />").attr("value","").html("Min. Price"));b(c).each(function(){b(a).find(".pricerange").append(this)})}});b.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_saved_searches",keyid:c},dataType:"json",type:"GET",cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(c){c=f(c);b(a).find(".savedsearch").html("");b(a).find(".savedsearch").append(b("<option />").html("-- Saved Search --"));
b(c).each(function(){b(a).find(".savedsearch").append(this)})}});b.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_map_enabled",keyid:c},dataType:"json",type:"GET",cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(c){!0==c?(b(a).find(".mapDisabled").css("display","none"),b(a).find(".maptype").removeAttr("disabled")):(b(a).find(".mapDisabled").css("display","block"),b(a).find(".maptype").attr("disabled","true"))}});var e=function(a){var c=[];b(a).each(function(){c.push(b("<option />").attr("value",
this.value).html(this.label))});return c},f=function(a){var c=[];b(a).each(function(){c.push(b("<option />").attr("value",this.ID).html(this.post_title))});return c}}}(jQuery);
