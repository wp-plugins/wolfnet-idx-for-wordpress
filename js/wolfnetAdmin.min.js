"undefined"!=typeof jQuery&&function(a){a(document).ready(function(){"Microsoft Internet Explorer"==navigator.appName&&a("html").addClass("ie");var b=a(".post-php .icon32-posts-wolfnet_search").parent();0!=b.length&&(b.find(".add-new-h2").remove(),b.find("#submitpost #minor-publishing").remove());(function(){var c=a("#wolfnet_support_page"),b=c.find("#thumbnail_modal");if(b.length==0){b=a("<div />");b.css("text-align","center");c.append(b);b.dialog({autoOpen:false,modal:true,width:550,height:450})}c.find("a img.wolfnet_thumbnail").parent().click(function(c){var d=
a("<img />"),e=b.height()-50,i=b.width()-35;d.attr("src",a(this).attr("href"));d.attr("align","center");d.css({"max-height":e,"max-width":i,margin:"0"});d.click(function(){window.open(this.src)});b.html(d);b.dialog("open");c.preventDefault();return false});var e=function(){var c=a(window).height(),d=a(window).width();b.dialog({height:c*0.8,width:d*0.8})};e();a(window).resize(function(){e()});var c=a("#wolfnet_support_content"),d=c.find("ol:first");c.find("h3:contains(Table of Contents)").remove();
d.find("li > ol,li > ul").remove();c.tabs()})()});a.fn.wolfnetFeaturedListingsControls=function(b){a.extend({},b);var c=function(a){a.val("");a.disabled=!0;a.find("fieldset:first").slideUp("fast","swing",function(){a.hide()})};return this.each(function(){var b=a(this),e=b.find(".wolfnet_featuredListingsOptions_autoPlayField:first"),d=b.find(".wolfnet_featuredListingsOptions_autoPlayOptions:first").hide();e.change(function(){"true"==a(this).val()?(d.disabled=!1,d.show(),d.find("fieldset:first").slideDown("fast",
"swing")):c(d)});e.trigger("change")})};a.fn.wolfnetListingGridControls=function(b){a.extend({},b);var c=function(){var b=a(this),c=this.$fields;if(b.is(":checked"))switch(b.val()){case "basic":c.filter(".advanced-option").hide();c.filter(".basic-option").show();break;case "advanced":c.filter(".basic-option").hide(),c.filter(".advanced-option").show()}},f=function(){this.beenWarned||(alert("The Saved Search that was previously used for this widget no longer exists. The widget will continue to function using the same search criteria unless you change the saved search value to something other than ** DELETED **."),
this.beenWarned=!0)};return this.each(function(){var b=a(this),d=b.find("tr.basic-option,tr.advanced-option"),g=b.find(".modeField input"),h=b.find(".keyid");d.hide();g.each(function(){this.$fields=d});h.change(function(){a(this).wolfnetUpdateShortcodeControls(b)});g.click(c);g.bind("ready",c);a(document).ready(function(){g.trigger("ready")});h=b.find(".savedSearchField select:first");"deleted"==h.val()&&(h.each(function(){this.beenWarned=!1}),h.click(f),h.focus(f))})};a.fn.wolfnetValidateProductKey=
function(b){var c={validClass:"valid",invalidClass:"invalid",wrapperClass:"wolfnetProductKeyValidationWrapper",validEvent:"validProductKey",invalidEvent:"invalidProductKey",validationEvent:"validateProductKey"};a.extend(c,b);var f=function(b){var d=a(b),b=d.val();a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_validate_key",key:b},dataType:"json",type:"GET",cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(a){!0===a?d.trigger(c.validEvent):d.trigger(c.invalidEvent)},
error:function(){d.trigger(c.invalidEvent);alert("Your product key appears to be formated correctly but we are unable to validate it against our servers at this time.")}})},e=function(){var b=a(this),d=b.parent(),e=b.val();if(""!=e){d="wp_"==e.substring(0,3).toLowerCase()?!0:!1;if(d=!0===d)e=35==e.length?!0:!1,d=!0===e;d?(b.trigger(c.validEvent),f(this)):b.trigger(c.invalidEvent)}else d.removeClass(c.validClass),d.removeClass(c.invalidClass)},d=function(){var b=a(this),d=b.parent();d.addClass(c.validClass);
d.removeClass(c.invalidClass);a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_market_name",productkey:a(this).val()},dataType:"json",type:"GET",cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(a){$marketContainer=d.closest("tr").find(".wolfnet_keyMarket");$marketLabel=d.closest("tr").find(".wolfnet_keyLabel");""==$marketContainer.html()&&$marketContainer.html(a);""==$marketLabel.val()&&$marketLabel.val(a)},error:function(){b.trigger(c.invalidEvent)}})},g=function(){var b=
a(this).parent();b.addClass(c.invalidClass);b.removeClass(c.validClass)};return this.each(function(){var b=a(this);if("input"!=this.nodeName.toLowerCase())throw"wolfnetValidateProductKey jQuery plugin can only be applied to an input element!";var f=a("<span/>");f.addClass(c.wrapperClass);b.after(f);b.appendTo(f);b.bind(c.validationEvent,e);b.bind(c.validEvent,d);b.bind(c.invalidEvent,g);b.keyup(function(){b.trigger(c.validationEvent)});a(document).ready(function(){b.trigger(c.validationEvent)})})};
a.fn.wolfnetDeleteKeyRow=function(b){b=a(b.srcElement).attr("wnt-key");a(".row"+b).remove()};a.fn.wolfnetInsertKeyRow=function(){var b=parseInt(a("#wolfnet_keyCount").val())+1,c=a("<tr />").attr("class","row"+b),f=a("<th />").attr("scope","row"),e=c.clone().append(f.clone().html(a("<label />").attr("for","wolfnet_productKey_"+b).html("Product Key")));e.append(f.clone().html("Market Name"));e.append(f.clone().html(a("<label />").attr("for","wolfnet_keyLabel_"+b).html("Label")));e.append(f.clone());
f=a("<td />");c=c.clone().append(f.clone().html(a("<input />").attr("id","wolfnet_productKey_"+b).attr("class","wolfnet_productKey").attr("name","wolfnet_productKey_"+b).attr("type","text").attr("value","").attr("size","50")));c.append(f.clone().html(a("<span/>").attr("class","wolfnet_keyMarket")));c.append(f.clone().html(a("<input />").attr("id","wolfnet_keyLabel_"+b).attr("name","wolfnet_keyLabel_"+b).attr("class","wolfnet_keyLabel").attr("type","text").attr("value","").attr("size","30")));c.append(f.clone().html(a("<input />").attr("class",
"wolfnet_deleteKey").attr("wnt-key",b).attr("type","button").attr("value","Delete").click(function(b){a.fn.wolfnetDeleteKeyRow(b)})));a("#wolfnet_keys").append(e).append(c);a("#wolfnet_keyCount").val(b);a("#wolfnet_productKey_"+b).wolfnetValidateProductKey({rootUri:"<?php echo site_url(); ?>?pagename=wolfnet-admin-validate-key"})};a.fn.wolfnetUpdateShortcodeControls=function(b){var c=a(b).find(".keyid").val();a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_price_range",keyid:c},dataType:"json",
type:"GET",cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(d){d=f(d);a(b).find(".pricerange").html("");a(b).find(".maxprice").append(a("<option />").attr("value","").html("Max. Price"));a(b).find(".minprice").append(a("<option />").attr("value","").html("Min. Price"));a(d).each(function(){a(b).find(".pricerange").append(this)})},error:function(a){console.log(a)}});a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_saved_searches",keyid:c},dataType:"json",type:"GET",
cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(d){d=e(d);a(b).find(".savedsearch").html("");a(b).find(".savedsearch").append(a("<option />").html("-- Saved Search --"));a(d).each(function(){a(b).find(".savedsearch").append(this)})},error:function(a){console.log(a)}});a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_map_enabled",keyid:c},dataType:"json",type:"GET",cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(c){!0==c?(a(b).find(".mapDisabled").css("display",
"none"),a(b).find(".maptype").removeAttr("disabled")):(a(b).find(".mapDisabled").css("display","block"),a(b).find(".maptype").attr("disabled","true"))},error:function(a){console.log(a)}});var f=function(b){var c=[];a(b).each(function(){c.push(a("<option />").attr("value",this.value).html(this.label))});return c},e=function(b){var c=[];a(b).each(function(){c.push(a("<option />").attr("value",this.ID).html(this.post_title))});return c}}}(jQuery);
