"undefined"!=typeof jQuery&&function(b){var k;b.fn.wolfnetToolbar=function(a){a=b.extend({usesPagination:a.usesPagination,page:1,startrow:1,numrows:a.numrows,sort:"",ownerType:a.ownerType,total_rows:a.total_rows,max_results:a.max_results,criteria:{}},a);return this.each(function(){b(this).data("wolfnetToolbarData",a);k=a.total_rows>a.max_results?a.max_results:a.total_rows;b(this).data("state",{page:a.page,startrow:a.startrow,numrows:a.numrows,sort:a.sort,ownerType:a.ownerType,total_rows:a.total_rows,
max_results:k});var d=b(this);if(0<a.total_rows){var e=t.call(this);b(this).find("h2.widget-title").after(e.clone(!0));b(this).append(e.clone(!0));!0==a.usesPagination&&a.total_rows>a.numrows&&(e=u.call(this),b(this).find("h2.widget-title").after(e.clone(!0)),b(this).append(e.clone(!0)));var e=function(){b("html,body").scrollTop(d.offset().top)},g=b(this).find(".wntToolbar");if(!0==a.usesPagination&&a.total_rows>a.numrows){var c=b(g[2]);c.find("select").change(e);c=b(g[3]);c.find("a").click(e)}else c=
b(g[1]);c.find("select").change(e)}})};var t=function(){var a=b(this);a.data("wolfnetToolbarData");var d=a.data("state"),e=b("<div>").css({width:"100%",clear:"both"}).addClass("wntSorting wntToolbar"),g=[];g[0]=b("<div>").appendTo(e).css({width:"99%",clear:"both","text-align":"left"});var c=b("<select>").addClass("wntSortoptions wntToolbars").change(function(c){d.sort=b(this).val();d.page=1;d.startrow=1;l.call(a,c)});b.ajax({url:"?pagename=wolfnet-get-sortOptions-dropdown",dataType:"json",success:function(a){var c=
b(".wntSorting").find("select.wntSortoptions");c.empty();for(var d=0;d<a.length;d++)b("<option>",{value:a[d].value,text:a[d].label}).appendTo(c)}});b(c).appendTo(g[0]);return e},u=function(){var a=b(this);a.data("wolfnetToolbarData");var d=a.data("state"),e=b("<div>").addClass("wntPagination wntToolbar").css({width:"100%",clear:"both"}),g=b("<select>").addClass("wntShowlistings wntToolbars").change(function(c){d.numrows=b(this).val();d.page=1;d.startrow=1;l.call(a,c)});b.ajax({url:"?pagename=wolfnet-get-showNumberOfListings-dropdown",
dataType:"json",success:function(a){var c=b(".wntPagination").find("select.wntShowlistings");c.empty();var e=!0,g;for(g in a)d.numrows<=a[g]&&e&&(e=!1,b("<option>",{value:d.numrows,text:d.numrows}).addClass("showNum_"+d.numrows).appendTo(c).attr("selected","selected")),a[g]!=d.numrows&&b("<option>",{value:a[g],text:a[g]}).addClass("showNum_"+a[g]).appendTo(c)}});var g=b(g).before("Show"),c=[];c[0]=b("<div>").appendTo(e).css({width:"33%","float":"left","test-align":"left"});c[1]=b("<div>").appendTo(e).css({width:"33%",
"float":"left","text-align":"center"});c[2]=b("<div>").appendTo(e).css({width:"33%","float":"right","text-align":"right"});c[3]=b("<div>").appendTo(e).css({width:"99%",clear:"both","text-align":"center"}).addClass("wntShowDropdownSpan wntToolbars");var o=b("<span>").addClass("wntTotalResultsSpan wntToolbars"),n=b("<span>").addClass("startrowSpan").text(d.startrow);o.append(n);n=b("<span>").addClass("numrowSpan").before("-").text(d.numrows);o.append(n);n=b("<span>").addClass("totalrecordsSpan").before(" of ").text(d.max_results);
o.append(n);o.appendTo(c[1]);g.appendTo(c[3]);b("<a>").appendTo(c[0]).addClass("wntPaginateLinkSpan wntToolbars").text("Previous").attr("href","javascript:;").click(function(b){d.page=Number(d.page)-1;d.startrow=Number(d.startrow)-Number(d.numrows);1>d.page&&(d.page=Math.ceil(Number(d.total_rows<k?d.total_rows:k)/Number(d.numrows)),d.startrow=Number(d.numrows)*(Number(d.page)-1)+1);l.call(a,b)});b("<a>").appendTo(c[2]).addClass("wntPaginateLinkSpan wntToolbars").text("Next").attr("href","javascript:;").click(function(b){d.page=
Number(d.page)+1;d.startrow=Number(d.startrow)+Number(d.numrows);if(d.page>Math.ceil(Number(d.total_rows<k?d.total_rows:k)/Number(d.numrows)))d.page=1,d.startrow=1;l.call(a,b)});return e},l=function(){var a=this,d=a.data("wolfnetToolbarData"),e=a.data("state"),g=b.extend(e,d.criteria);g.ownerType=d.ownerType;b.ajax({url:"?pagename=wolfnet-listings-get",dataType:"json",data:g,success:function(c){var d=e.startrow,g=e.numrows,l=e.sort;a.find(".wolfnet_listing").remove();a.find(".wolfnet_clearfix").remove();
if(a.hasClass("wolfnet_listingGrid")){for(var f=0;f<c.length;f++){var p=c[f].branding.brokerLogo||null,q=c[f].branding.content||null;if(null==p&&null==q)var m=!1,h="wolfnet_listing";else m=!0,h="wolfnet_listing wolfnet_branded";h=b("<div>").addClass(h).attr("id","wolfnet_listing_"+c[f].property_id);a.find(".grid-listings-widget").append(h);var i=b("<a>").attr("href",c[f].property_url);h.append(i);h=b("<span>").addClass("wolfnet_listingImage");b("<img>").attr("src",c[f].thumbnail_url).appendTo(h);
i.append(h);i=b("<span>").addClass("wolfnet_price").attr("itemprop","price").text(r(c[f].listing_price));h.after(i);var s=b("<span>").addClass("wolfnet_bed_bath").attr("title",c[f].bedrooms+" Bedrooms & "+c[f].bathroom+" Bathrooms").text(c[f].bedrooms+"bd/"+c[f].bathroom+"ba");i.after(s);var i=c[f].city+", "+c[f].state,j=c[f].display_address+", "+i,h=b("<span>").attr("title",j);b("<span>").addClass("wolfnet_location").attr("itemprop","locality").text(i).appendTo(h);b("<span>").addClass("wolfnet_address").text(c[f].display_address).appendTo(h);
b("<span>").addClass("wolfnet_full_address").attr("itemprop","street_address").css("display","none").text(j).appendTo(h);s.after(h);m&&(m=b("<span>").addClass("wolfnet_branding"),j=b("<span>").addClass("wolfnet_brokerLogo"),b("<img>").attr("src",p).appendTo(j),j.appendTo(m),b("<span>").addClass("wolfnet_brandingMessage").text(q).appendTo(m),h.after(m))}a.wolfnetListingGrid("reload")}else if(a.hasClass("wolfnet_propertyList")){for(f=0;f<c.length;f++)h=b("<div>").addClass("wolfnet_listing").attr("id",
"wolfnet_listing_"+c[f].property_id),a.find(".list-listings-widget").append(h),i=c[f].city+", "+c[f].state,j=c[f].display_address+", "+i,i=b("<a>").attr({href:c[f].property_url,title:j}),h.append(i),h=b("<span>").addClass("wolfnet_full_address").text(j),i.append(h),i=b("<span>").addClass("wolfnet_price").attr("itemprop","price").text(r(c[f].listing_price)),h.after(i),p=b("<span>").attr("itemprop","street-address").css("display","none").text(j),i.after(p);a.wolfnetPropertyList()}c=Number(d)-1+Number(g);
c>k&&(c=k);a.find(".startrowSpan").html(d);a.find(".numrowSpan").html(c);a.find("select.wntShowlistings option").removeAttr("selected");a.find("select.wntShowlistings option[value='"+g+"']").attr("selected","");a.find("select.wntSortoptions option").removeAttr("selected");a.find("select.wntSortoptions option[value='"+l+"']").attr("selected","")}})},r=function(a){a=a.toString();a=a.split(".")[0];a=a.split("").reverse().join("").replace(/(\d{3}(?!$))/g,"$1,").split("").reverse().join("");return"$"+
a}}(jQuery);
